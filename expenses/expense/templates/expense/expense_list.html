{% extends 'layout.html' %}

{% block title %}All Expenses{% endblock %}

{% block content %}
<h2>Expenses</h2>

<a href="{% url 'create_expense' %}" class="btn btn-primary">+ Add New Expense</a>

<table border="1" width="100%" cellpadding="10" style="margin-top:20px;">
    <tr>
        <th>Title</th>
        <th>Amount</th>
        <th>Category</th>
        <th>Date</th>
        <th>Actions</th>
    </tr>

    {% for exp in expenses %}
    <tr>
        <td>{{ exp.title }}</td>
        <td>Rs. {{ exp.amount }}</td>
        <td>{{ exp.category }}</td>
        <td>{{ exp.date }}</td>
        <td>
            <a href="{% url 'update_expense' exp.pk %}">Edit</a> |
            <a href="{% url 'delete_expense' exp.pk %}" style="color:red;">Delete</a>
        </td>
    </tr>
    {% empty %}
    <tr>
        <td colspan="5">No expenses found</td>
    </tr>
    {% endfor %}
</table>

{% endblock %}